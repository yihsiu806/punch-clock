(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"18d2":function(t,e,a){},"3d14":function(t,e,a){"use strict";a("d8ee")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"lime lighten-1",dark:""}},[a("v-btn",{attrs:{href:"#",text:""},on:{click:t.reload}},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-clock-outline")]),a("span",{staticClass:"ml-3",staticStyle:{"text-transform":"none","font-size":"24px"}},[t._v("Punch Clock")])],1)],1),a("v-main",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("Tasks",{attrs:{tasks:t.tasks}})],1),a("v-col",{attrs:{cols:"12",sm:"9",md:"9"}},[a("v-row",[a("Stopwatch")],1),a("v-row",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[a("v-spacer"),a("v-col",[t._v(" Total: "+t._s(t.totalSpendTimeString)+" ")])],1),a("v-row",[a("div",[a("RecordBoardTitle",{attrs:{boardTitle:t.tasks[0].name,taskNum:t.tasks.length}})],1),a("RecordBoard",{attrs:{defaultRecord:Object.assign([],t.tasks[0].records)}})],1)],1)],1)],1)],1)],1)},o=[],s=(a("13d5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{"max-width":"250"},on:{keydown:t.handleEnter},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("New Task")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.taskNameIsValid,callback:function(e){t.taskNameIsValid=e},expression:"taskNameIsValid"}},[a("v-text-field",{attrs:{rules:t.taskNameRules,label:"Task Name",autofocus:""},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancle ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.saveNewTask}},[t._v(" Save ")])],1)],1)],1),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("h2",{staticClass:"headline font-weight-bold"},[t._v("Tasks")])]),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"lime lighten-1",elevation:"1",block:"",small:""},on:{click:t.addNewTask}},[a("v-icon",{attrs:{color:"white"}},[t._v(" mdi-plus ")])],1)],1)],1),a("v-tabs",{attrs:{vertical:"",color:"lime darken-1"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tasks,(function(e,r){return a("v-tab",{key:e.uuid,staticClass:"task-tab",attrs:{draggable:"true",index:r,"drag-type":"task"},on:{click:t.activateTask,dragover:t.handleDragover,drop:t.handleDrop,dragenter:t.handleDragenter,dragleave:t.handleDragleave,dragstart:t.handleDragStart,dragend:t.handleDragEnd}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)}),i=[],c=(a("a434"),a("b0c0"),a("a9e3"),a("2909")),l=(a("99af"),a("cb29"),a("fb6a"),function(t){var e=("00"+t%60).slice(-2),a=("00"+Math.floor(t/60)%60).slice(-2),r=Math.floor(t/3600)%24,n=Math.floor(t/86400),o="";return 1==n?o+="".concat(n," day "):n>1&&(o+="".concat(n," days ")),1==r?o+="".concat(r," hour "):r>1&&(o+="".concat(r," hours ")),"".concat(o," ").concat(a,":").concat(e)}),d=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"],u=[1,2,3,4,5],f=[8,9,"a","b"],v=function(){var t=function(t){return Math.round(Math.random()*t)},e=function(){return Array(8).fill(0).reduce((function(e){return e+d[t(d.length)]}),"")},a=function(){return Array(4).fill(0).reduce((function(e){return e+d[t(d.length)]}),"")},r=function(){return u[t(u.length)]+Array(3).fill(0).reduce((function(e){return e+d[t(d.length)]}),"")},n=function(){return f[t(f.length)]+Array(3).fill(0).reduce((function(e){return e+d[t(d.length)]}),"")},o=function(){return Array(12).fill(0).reduce((function(e){return e+d[t(d.length)]}),"")};return"".concat(e(),"-").concat(a(),"-").concat(r(),"-").concat(n(),"-").concat(o())};function h(t){t.sort((function(t,e){return e.startTime-t.startTime}))}function m(t){localStorage.setItem("yihsiu-punch-clock",t)}var g={name:"Tasks",props:{tasks:Array},data:function(){return{dialog:!1,taskNameIsValid:!0,taskName:"",taskNameRules:[function(t){return t.length>0}],currentTab:null,currentTaskIndex:0}},methods:{addNewTask:function(){this.taskNameIsValid||this.$refs.form.resetValidation(),this.dialog=!0},saveNewTask:function(){var t=v();this.$refs.form.validate(),this.taskNameIsValid&&(this.tasks.unshift({order:this.tasks.length,name:this.taskName,uuid:t,records:[]}),this.taskName="",this.$refs.form.resetValidation(),this.dialog=!1,this.currentTab=t,this.currentTaskIndex=this.tasks.length-1)},activateTask:function(t){this.currentTaskIndex=t.target.getAttribute("index")},handleDrop:function(t){t.preventDefault();var e=t.target.getAttribute("drag-type");if("record"==e){t.target.classList.remove("drag-over");var a=JSON.parse(t.dataTransfer.getData("application/json")),r=t.target.getAttribute("index");this.tasks[r].records.push(a),h(this.tasks[r].records)}else if("task"==e){t.target.classList.remove("task-over");var n=Number(t.dataTransfer.getData("text/plain")),o=Number(t.target.getAttribute("index"));if(n!=o){var s=[this.tasks[o],this.tasks[n]];this.tasks[n]=s[0],this.tasks[o]=s[1],this.currentTaskIndex=o,this.currentTab=this.tasks[o].uuid}}},handleDragover:function(t){t.preventDefault();var e=t.target.getAttribute("drag-type");"record"==e&&(t.target.getAttribute("index")==this.currentTaskIndex?t.dataTransfer.dropEffect="none":t.dataTransfer.dropEffect="move")},handleDragenter:function(t){var e=t.target.getAttribute("drag-type");if("record"==e){if(t.target.getAttribute("index")==this.currentTaskIndex)return;t.target.classList.add("drag-over")}else"task"==e&&t.target.classList.add("task-over")},handleDragleave:function(t){var e=t.target.getAttribute("drag-type");"record"==e?t.target.classList.remove("drag-over"):"task"==e&&t.target.classList.remove("task-over")},handleDragStart:function(t){t.target.style.opacity="0.4",t.dataTransfer.dropEffect="move",t.dataTransfer.setData("text/plain",t.target.getAttribute("index"))},handleDragEnd:function(t){t.target.style.opacity="1"},handleEnter:function(t){"Enter"==t.code&&(t.stopPropagation(),t.preventDefault())}},watch:{currentTaskIndex:function(t){this.$root.$emit("recordBoardNeedChange",{name:this.tasks[t].name,records:Object.assign([],this.tasks[t].records)})}},mounted:function(){var t=this;this.$root.$on("recordChange",(function(e){t.tasks[t.currentTaskIndex].records=Object(c["a"])(e)})),this.$root.$on("renameTask",(function(e){t.tasks[t.currentTaskIndex].name=e,m(JSON.stringify(t.tasks))})),this.$root.$on("deleteTask",(function(){var e=t.currentTaskIndex;e+1<t.tasks.length?(t.currentTab=t.tasks[e+1].uuid,t.currentTaskIndex=e+1):e-1>=0&&(t.currentTab=t.tasks[e-1].uuid,t.currentTaskIndex=e-1),t.tasks.splice(e,1)}))}},k=g,p=(a("3d14"),a("2877")),b=a("6544"),T=a.n(b),x=a("8336"),_=a("b0af"),y=a("99d9"),w=a("62ad"),V=a("a523"),C=a("169a"),N=a("4bd4"),S=a("132d"),D=a("0fd9"),I=a("71a3"),$=a("fe57"),A=a("8654"),R=Object(p["a"])(k,s,i,!1,null,"bed61350",null),O=R.exports;T()(R,{VBtn:x["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:w["a"],VContainer:V["a"],VDialog:C["a"],VForm:N["a"],VIcon:S["a"],VRow:D["a"],VTab:I["a"],VTabs:$["a"],VTextField:A["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("div",{staticStyle:{position:"relative",width:"250px",height:"250px",display:"inline-block"}},[a("div",{staticClass:"wave",class:{waving:t.running}},t._l(60,(function(t){return a("div",{key:t})})),0),a("div",{staticClass:"day-hour"},[t.day?a("span",[t._v(t._s(t.day))]):t._e(),a("span",{staticClass:"pa-1"}),t.hour?a("span",[t._v(t._s(t.hour))]):t._e()]),a("div",{staticClass:"minute-second"},[t._v(" "+t._s(t.minute)+" : "+t._s(t.second)+" ")])])]),a("v-col",{attrs:{cols:"12",sm:"4","align-self":"center"}},[a("v-row",{attrs:{justify:"start"}},[a("v-col",{attrs:{cols:"12"}},[t.running?t._e():a("v-btn",{attrs:{color:"green",elevation:"2",rounded:"",small:"",dark:"",large:""},on:{click:t.start}},[t._v(" start ")]),t.running?a("v-btn",{attrs:{color:"red",elevation:"2",rounded:"",small:"",dark:"",large:""},on:{click:t.stop}},[t._v(" stop ")]):t._e()],1)],1)],1)],1)],1)},M=[],B={name:"Stopwatch",data:function(){return{counter:0,running:!1,intervalID:null}},methods:{start:function(){var t=this;this.running=!0,this.intervalID=setInterval((function(){t.counter++}),1e3),this.$root.$emit("watchStart")},stop:function(){this.running=!1,clearInterval(this.intervalID),this.counter=0,this.$root.$emit("watchStop")}},computed:{second:function(){return("00"+this.counter%60).slice(-2)},minute:function(){return("00"+Math.floor(this.counter/60)%60).slice(-2)},hour:function(){var t=Math.floor(this.counter/3600%24);return t>1?"".concat(t," hours"):1==t?"".concat(t," hour"):null},day:function(){var t=Math.floor(this.counter/86400);return t>1?"".concat(t," days"):1==t?"".concat(t," day"):null}}},E=B,L=(a("a438"),Object(p["a"])(E,j,M,!1,null,"68223cd9",null)),P=L.exports;T()(L,{VBtn:x["a"],VCol:w["a"],VContainer:V["a"],VRow:D["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Delete Record? ")]),a("v-card-text",[t._v("Are you sure deleting record "+t._s(t.recordString))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"gray darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.deleteRecord}},[t._v(" Yes ")])],1)],1)],1),a("v-simple-table",{attrs:{"fixed-header":""}},[a("thead",[a("tr",[a("th"),a("th",[t._v("Start Time")]),a("th",[t._v("End Time")]),a("th",[t._v("Duration")]),a("th")])]),a("tbody",t._l(t.records,(function(e,r){return a("tr",{key:r,attrs:{index:r,"drag-type":"record"},on:{dragstart:t.dragstartHandler,dragend:t.dragendHandler}},[a("td",[a("v-icon",{staticClass:"move-icon",attrs:{color:"grey"},on:{mouseenter:t.enterMoveIcon,mouseleave:t.leaveMoveIcon}},[t._v(" mdi-dots-vertical ")])],1),a("td",[t._v(t._s(e.startTimeString))]),a("td",[t._v(t._s(e.endTimeString))]),a("td",[t._v(t._s(e.durationString))]),a("td",[a("v-btn",{attrs:{icon:"",rounded:"","x-small":"",color:"grey"},on:{click:t.confirmDelete}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0)])],1)},F=[],H=(a("a630"),a("ac1f"),a("3ca3"),a("5319"),{name:"RecordBoard",props:{defaultRecord:Array},data:function(){return{recordString:0,dialog:!1,records:[],startTime:0,endTime:0,duration:0,currentRecord:0}},watch:{records:function(t){this.$root.$emit("recordChange",t)}},methods:{confirmDelete:function(t){var e=t.target.closest("tr"),a=Array.from(e.querySelectorAll("td")),r=a[1].textContent,n=a[2].textContent,o=a[3].textContent;this.dialog=!0,this.recordString="which start from ".concat(r," to ").concat(n," (").concat(o,")"),this.currentRecord=e.getAttribute("index")},deleteRecord:function(){this.dialog=!1,this.records.splice(this.currentRecord,1)},enterMoveIcon:function(t){t.target.closest("tr").setAttribute("draggable","true")},leaveMoveIcon:function(t){t.target.closest("tr").removeAttribute("draggable")},dragstartHandler:function(t){var e=t.target.getAttribute("index");t.dataTransfer.setData("application/json",JSON.stringify(this.records[e])),t.dataTransfer.effectAllowed="move"},dragendHandler:function(t){if("move"==t.dataTransfer.dropEffect){var e=t.target.getAttribute("index");this.records.splice(e,1)}}},mounted:function(){var t=this;this.$root.$on("watchStart",(function(){t.startTime=new Date})),this.$root.$on("watchStop",(function(){t.endTime=new Date,t.duration=Math.round((t.endTime-t.startTime)/1e3),t.records.unshift({startTime:t.startTime,endTime:t.endTime,startTimeString:t.startTime.toLocaleDateString()+" "+t.startTime.toTimeString().replace(/ .*$/,""),endTimeString:t.endTime.toLocaleDateString()+" "+t.endTime.toTimeString().replace(/ .*$/,""),duration:t.duration,durationString:l(t.duration)})})),this.$root.$on("recordBoardNeedChange",(function(e){t.records=e.records})),this.records=this.defaultRecord}}),z=H,q=(a("9918"),a("1f4f")),Y=a("2fa4"),G=Object(p["a"])(z,J,F,!1,null,"c3cd2054",null),K=G.exports;T()(G,{VBtn:x["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:V["a"],VDialog:C["a"],VIcon:S["a"],VSimpleTable:q["a"],VSpacer:Y["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Rename")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.taskNameIsValid,callback:function(e){t.taskNameIsValid=e},expression:"taskNameIsValid"}},[a("v-text-field",{attrs:{rules:t.taskNameRules,label:"Task Name",autofocus:""},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancle ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.renameTask}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"250"},model:{value:t.deleteConfirm,callback:function(e){t.deleteConfirm=e},expression:"deleteConfirm"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Delete")])]),a("v-card-text",[t._v(" Are you sure delete "),a("span",{staticClass:"red--text"},[t._v(t._s(t.taskName))])]),a("v-card-actions",[a("v-btn",{attrs:{color:"gray darken-1",text:""},on:{click:function(e){t.deleteConfirm=!1}}},[t._v(" Cancle ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteTask}},[t._v(" Delete ")])],1)],1)],1),a("div",{staticClass:"d-flex flex-row align-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"lime darken-2"}},"v-btn",n,!1),r),[a("v-icon",[t._v("mdi-cog")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:t.showRenameDialog}},[a("v-list-item-title",[t._v(" Rename ")])],1),t.taskNum>1?a("v-list-item",[a("v-list-item-title",{on:{click:t.showDeleteDialog}},[t._v(" Delete ")])],1):t._e()],1)],1),a("h4",{staticClass:"lime--text ml-5"},[t._v(t._s(t.taskName))])],1)],1)},U=[],W={name:"RecordBoardTitle",props:{boardTitle:String,taskNum:Number},data:function(){return{dialog:!1,deleteConfirm:!1,taskName:"",taskNameIsValid:!0,newName:"",taskNameRules:[function(t){return t.length>0}]}},methods:{showRenameDialog:function(){this.dialog=!0},renameTask:function(){this.dialog=!1,this.$root.$emit("renameTask",this.newName),this.taskName=this.newName,this.newName=""},showDeleteDialog:function(){this.deleteConfirm=!0},deleteTask:function(){this.deleteConfirm=!1,this.$root.$emit("deleteTask")}},mounted:function(){var t=this;this.taskName=this.boardTitle,this.$root.$on("recordBoardNeedChange",(function(e){t.taskName=e.name,t.records=e.records}))}},X=W,Z=a("8860"),tt=a("da13"),et=a("5d23"),at=a("e449"),rt=Object(p["a"])(X,Q,U,!1,null,"6d1a39f4",null),nt=rt.exports;T()(rt,{VBtn:x["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:V["a"],VDialog:C["a"],VForm:N["a"],VIcon:S["a"],VList:Z["a"],VListItem:tt["a"],VListItemTitle:et["a"],VMenu:at["a"],VTextField:A["a"]});var ot=[{order:0,name:"Task 1",uuid:v(),records:[]}],st={name:"App",components:{Tasks:O,Stopwatch:P,RecordBoard:K,RecordBoardTitle:nt},data:function(){return{tasks:ot,totalSpendTimeString:""}},methods:{reload:function(){return location.reload(),!1}},watch:{tasks:function(t){m(JSON.stringify(t))}},beforeMount:function(){localStorage.getItem("yihsiu-punch-clock")&&(this.tasks=JSON.parse(localStorage.getItem("yihsiu-punch-clock")))},mounted:function(){var t=this;this.$root.$on("recordChange",(function(e){var a=e.reduce((function(t,e){return t+e.duration}),0);t.totalSpendTimeString=l(a),m(JSON.stringify(t.tasks))}))}},it=st,ct=a("7496"),lt=a("40dc"),dt=a("f6c4"),ut=Object(p["a"])(it,n,o,!1,null,"13b83307",null),ft=ut.exports;T()(ut,{VApp:ct["a"],VAppBar:lt["a"],VBtn:x["a"],VCol:w["a"],VContainer:V["a"],VIcon:S["a"],VMain:dt["a"],VRow:D["a"],VSpacer:Y["a"]});var vt=a("f309");r["a"].use(vt["a"]);var ht=new vt["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:ht,render:function(t){return t(ft)}}).$mount("#app")},9918:function(t,e,a){"use strict";a("18d2")},a438:function(t,e,a){"use strict";a("ad58")},ad58:function(t,e,a){},d8ee:function(t,e,a){}});
//# sourceMappingURL=app.f2ddb5f8.js.map